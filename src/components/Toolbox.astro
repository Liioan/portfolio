<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);

  const tools = document.querySelectorAll(".tool");

  type animationProperty = {
    orientation: "horizontal" | "vertical";
    translateValue: number;
    start: string;
    end: string;
  };

  const animationProperties: animationProperty[] = [
    {
      orientation: "horizontal",
      translateValue: -100,
      start: "top 40%",
      end: "bottom 60%",
    },
    {
      orientation: "vertical",
      translateValue: -100,
      start: "top 50%",
      end: "bottom 50%",
    },
    {
      orientation: "horizontal",
      translateValue: 100,
      start: "top 60%",
      end: "bottom 40%",
    },
    {
      orientation: "vertical",
      translateValue: 100,
      start: "top 30%",
      end: "bottom 70%",
    },
    {
      orientation: "horizontal",
      translateValue: -100,
      start: "top 70%",
      end: "bottom 30%",
    },
    {
      orientation: "vertical",
      translateValue: -100,
      start: "top 10%",
      end: "bottom 90%",
    },
    {
      orientation: "horizontal",
      translateValue: 100,
      start: "top 40%",
      end: "bottom 60%",
    },
    {
      orientation: "horizontal",
      translateValue: -100,
      start: "top 70%",
      end: "bottom 30%",
    },
    {
      orientation: "vertical",
      translateValue: -100,
      start: "top 20%",
      end: "bottom 80%",
    },
    {
      orientation: "vertical",
      translateValue: 100,
      start: "top 40%",
      end: "bottom 60%",
    },
  ];

  let isDesktop = window.innerWidth > 1280;
  window.addEventListener("resize", () => {
    isDesktop = window.innerWidth > 1280;
  });

  if (isDesktop) {
    tools.forEach((tool, i) => {
      const property = animationProperties[i];
      gsap.from(tool, {
        scrollTrigger: {
          trigger: `#toolbox`,
          start: isDesktop ? property.start : "top 20%",
          end: isDesktop ? property.end : "50% 80%",
          scrub: true,
        },
        opacity: 0,
        x: property.orientation === "horizontal" ? property.translateValue : 0,
        y: property.orientation === "vertical" ? property.translateValue : 0,
        stagger: 0.5,
        ease: "power2",
      });
    });
  } else {
    gsap.from(".toolbox", {
      scrollTrigger: {
        trigger: `#toolbox`,
        start: "top 20%",
        end: "10% 10%",
        scrub: true,
      },
      opacity: 0,
      x: -100,
      stagger: 0.5,
      ease: "power2",
    });
  }
</script>

<ul
  class="toolbox grid w-[70%] max-w-[1570px] grid-cols-1 grid-rows-myGrid gap-[10px] text-2xl font-bold text-white md:w-[80%] lg:grid-cols-2 2xl:w-full 2xl:grid-cols-4 2xl:grid-rows-5"
>
  <li
    class="tool h-[300px] min-h-[150px] rounded-[20px] bg-gradient-to-tl from-[#f0da4f20] to-[#3178C620] lg:col-start-1 lg:col-end-2 lg:row-start-1 lg:row-end-3 lg:h-auto 2xl:col-start-1 2xl:col-end-1 2xl:row-start-1 2xl:row-end-3"
  >
    <div class="flex h-full flex-col items-center justify-center gap-[52px]">
      <div class="flex items-center gap-[35px]">
        <img
          class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
          src="/tools/ts.png"
          alt="ts icon"
        />
        <span>typescript</span>
      </div>
      <div class="flex items-center gap-[35px]">
        <img
          class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
          src="/tools/js.png"
          alt="js icon"
        />
        <span>javascript</span>
      </div>
    </div>
  </li>
  <li
    class="tool h-[300px] min-h-[150px] rounded-[20px] bg-gradient-to-tr from-[#3ECF8E20] to-[#398CCB20] lg:col-start-1 lg:col-end-3 lg:row-start-3 lg:row-end-4 lg:h-auto 2xl:col-start-2 2xl:col-end-4 2xl:row-start-1 2xl:row-end-2"
  >
    <div
      class="gap flex h-full flex-col items-center justify-center gap-[52px] lg:flex-row lg:justify-around lg:gap-0"
    >
      <div class="flex items-center justify-center gap-[35px]">
        <img
          class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
          src="/tools/supabase.png"
          alt="supabase icon"
        />
        <span>supabase</span>
      </div>
      <div class="flex items-center justify-center gap-[35px]">
        <img
          class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
          src="/tools/trpc.png"
          alt="tRPC logo"
        />
        <span>tRPC</span>
      </div>
    </div>
  </li>
  <li
    class="tool h-[600px] min-h-[150px] rounded-[20px] bg-gradient-to-tr from-[#06B6D420] to-[#264DE420] lg:col-start-2 lg:col-end-3 lg:row-start-6 lg:row-end-[10] lg:h-auto 2xl:col-start-4 2xl:col-end-5 2xl:row-start-1 2xl:row-end-5"
  >
    <div class="flex h-full flex-col items-center justify-center gap-[52px]">
      <div class="flex items-center justify-center gap-[35px]">
        <img
          class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
          src="/tools/html.png"
          alt="html icon"
        />
        <span>HTML</span>
      </div>
      <div class="flex items-center justify-center gap-[35px]">
        <img
          class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
          src="/tools/css.png"
          alt="css icon"
        />
        <span>CSS</span>
      </div>
      <div class="flex items-center justify-center gap-[35px]">
        <img
          class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
          src="/tools/react.png"
          alt="react icon"
        />
        <span>React</span>
      </div>
      <div class="flex items-center justify-center gap-[35px]">
        <img
          class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
          src="/tools/tailwind.png"
          alt="tailwind icon"
        />
        <span>Tailwind</span>
      </div>
    </div>
  </li>
  <li
    class="tool h-[150px] min-h-[150px] rounded-[20px] bg-gradient-to-r from-[#31A4F120] to-[#1370AF20] lg:col-start-2 lg:col-end-3 lg:row-start-1 lg:row-end-2 lg:h-auto 2xl:col-start-2 2xl:col-end-3 2xl:row-start-2 2xl:row-end-2"
  >
    <div class="flex h-full items-center justify-center gap-[35px]">
      <img
        class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
        src="/tools/vsc.png"
        alt="vscode icon"
      />
      <span>vscode</span>
    </div>
  </li>
  <li
    class="tool h-[300px] min-h-[150px] rounded-[20px] bg-gradient-to-br from-[#A259FF20] to-[#0ACF8320] lg:col-start-1 lg:col-end-2 lg:row-start-7 lg:row-end-[9] lg:h-[300px] 2xl:col-start-3 2xl:col-end-4 2xl:row-start-2 2xl:row-end-4 2xl:h-auto"
  >
    <div class="flex h-full flex-col items-center justify-center gap-[52px]">
      <div class="flex w-full items-center justify-center gap-[35px]">
        <img
          class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
          src="/tools/figma.png"
          alt="figma icon"
        />
        <span>Figma</span>
      </div>
      <div class="flex w-full items-center justify-center gap-[35px]">
        <img
          class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
          src="/tools/framer.png"
          alt="framer icon"
        />
        <span class="w-min text-center">Framer Motion</span>
      </div>
    </div>
  </li>
  <li
    class="tool h-[600px] min-h-[150px] rounded-[20px] bg-gradient-to-tr from-[#33679120] from-50% to-[#E6892E20] lg:col-start-1 lg:col-end-3 lg:row-start-4 lg:row-end-6 lg:h-[300px] 2xl:col-start-1 2xl:col-end-3 2xl:row-start-3 2xl:row-end-5 2xl:h-auto"
  >
    <div
      class="flex h-full w-full flex-col items-center justify-center gap-[52px] lg:flex-row lg:justify-around"
    >
      <div class="flex flex-col items-center justify-around gap-[52px]">
        <div class="flex w-1/2 items-center justify-center gap-[35px]">
          <img
            class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
            src="/tools/mysql.png"
            alt="mysql icon"
          />
          <span>MySQL</span>
        </div>
        <div class="flex w-1/2 items-center justify-center gap-[35px]">
          <img
            class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
            src="/tools/psql.png"
            alt="psql icon"
          />
          <span>PostgreSQL</span>
        </div>
      </div>
      <div class="flex flex-col items-center justify-around gap-[52px]">
        <div class="flex w-1/2 items-center justify-center gap-[35px]">
          <img
            class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
            src="/tools/prisma.png"
            alt="prisma icon"
          />
          <span>Prisma</span>
        </div>
        <div class="flex w-1/2 items-center justify-center gap-[35px]">
          <img
            class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
            src="/tools/sqldbd.png"
            alt="sqldbd icon"
          />
          <span>sqlDBD</span>
        </div>
      </div>
    </div>
  </li>
  <li
    class="tool h-[150px] min-h-[150px] rounded-[20px] bg-gradient-to-r from-[#69D7E420] to-[#F5D2A420] lg:col-start-2 lg:col-end-3 lg:row-start-2 lg:row-end-3 lg:h-auto 2xl:col-start-3 2xl:col-end-4 2xl:row-start-4 2xl:row-end-5"
  >
    <div class="flex h-full w-full items-center justify-center gap-[35px]">
      <img
        class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
        src="/tools/go.png"
        alt="go icon"
      />
      <span>Golang</span>
    </div>
  </li>
  <li
    class="tool h-[150px] min-h-[150px] rounded-[20px] bg-gradient-to-tr from-[#F0503320] to-[#1B1F2320] lg:col-start-1 lg:col-end-2 lg:row-start-6 lg:row-end-7 lg:h-auto 2xl:col-start-1 2xl:col-end-2 2xl:row-start-5 2xl:row-end-6"
  >
    <div class="flex h-full w-full items-center justify-center gap-[35px]">
      <img
        class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
        src="/tools/github.png"
        alt="github icon"
      />
      <span>Github</span>
    </div>
  </li>
  <li
    class="tool h-[300px] min-h-[150px] rounded-[20px] bg-gradient-to-r from-[#5DAEFF20] to-[#BC36FE20] lg:col-start-1 lg:col-end-3 lg:row-start-[10] lg:row-end-[11] lg:h-auto 2xl:col-start-2 2xl:col-end-4 2xl:row-start-5 2xl:row-end-6"
  >
    <div
      class="gap flex h-full flex-col items-center justify-center gap-[52px] lg:flex-row lg:justify-around lg:gap-0"
    >
      <div class="flex items-center justify-center gap-[35px]">
        <img
          class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
          src="/tools/vite.png"
          alt="vite icon"
        />
        <span>Vite</span>
      </div>
      <div class="flex items-center justify-center gap-[35px]">
        <img
          class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
          src="/tools/next.png"
          alt="nextjs icon"
        />
        <span>Next.JS</span>
      </div>
    </div>
  </li>
  <li
    class="tool h-[150px] min-h-[150px] rounded-[20px] bg-gradient-to-r from-[#F5F5F520] to-[#F0503320] lg:col-start-1 lg:col-end-2 lg:row-start-[9] lg:row-end-[10] lg:h-auto 2xl:col-start-4 2xl:col-end-5 2xl:row-start-5 2xl:row-end-6"
  >
    <div class="flex h-full w-full items-center justify-center gap-[35px]">
      <img
        class="h-[60px] lg:h-[70px] 2xl:h-[75px]"
        src="/tools/git.png"
        alt="git icon"
      />
      <span>Git</span>
    </div>
  </li>
</ul>
